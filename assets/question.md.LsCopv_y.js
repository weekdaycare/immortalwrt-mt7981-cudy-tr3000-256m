import{_ as a,c as i,o as n,ah as e,ar as l,as as p,at as t}from"./chunks/framework.BKJj9r7V.js";const u=JSON.parse('{"title":"救砖指南及常见问题","description":"","frontmatter":{},"headers":[],"relativePath":"question.md","filePath":"question.md"}'),r={name:"question.md"};function h(c,s,d,k,o,b){return n(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="救砖指南及常见问题" tabindex="-1">救砖指南及常见问题 <a class="header-anchor" href="#救砖指南及常见问题" aria-label="Permalink to “救砖指南及常见问题”">​</a></h1><p>若路由器刷机失败，请尝试使用 <strong>官方恢复方法</strong>：<a href="https://www.cudy.com/zh-cn/blogs/faq/how-to-recovery-the-cudy-router-from-openwrt-firmware-to-cudy-official-firmware" target="_blank" rel="noreferrer">点击这里查看教程</a>。</p><h2 id="救砖步骤" tabindex="-1"><strong>救砖步骤</strong> <a class="header-anchor" href="#救砖步骤" aria-label="Permalink to “救砖步骤”">​</a></h2><h3 id="准备文件" tabindex="-1"><strong>准备文件</strong> <a class="header-anchor" href="#准备文件" aria-label="Permalink to “准备文件”">​</a></h3><p>下载恢复工具包：<a href="https://www.123865.com/s/xecxjv-HcbCA" target="_blank" rel="noreferrer">点击下载</a>。</p><p>目录内容:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span>flash2official</span></span>
<span class="line"><span>├─ 128m-recovery.bin</span></span>
<span class="line"><span>├─ 256m-recovery.bin</span></span>
<span class="line"><span>├─ firewall_manager.bat</span></span>
<span class="line"><span>├─ restore_dhcp_ip.bat</span></span>
<span class="line"><span>├─ set_static_ip.bat</span></span>
<span class="line"><span>└─ tftpd64.exe</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>然后使用网线将你的电脑与路由器连接在一起</p><h3 id="重命名" tabindex="-1">重命名 <a class="header-anchor" href="#重命名" aria-label="Permalink to “重命名”">​</a></h3><p>若你是 128M 设备，请将 <code>128m-recovery.bin</code> 重命名为 <code>recovery.bin</code> ，256M 同理</p><h3 id="执行命令" tabindex="-1">执行命令 <a class="header-anchor" href="#执行命令" aria-label="Permalink to “执行命令”">​</a></h3><p>以管理员身份运行 <code>firewall_manager.bat</code> ，选择 1 关闭防火墙</p><div class="language-cmd line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">=====================================</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">        Windows 防火墙控制脚本</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">=====================================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 关闭防火墙（所有配置文件）</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 开启防火墙（所有配置文件）</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 查看当前防火墙状态</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 退出</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">请输入选项 [</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1-4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">]: </span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>然后同样以管理员身份运行 <code>set_static_ip.bat</code> ，选择 1 设置以太网口静态 ip 地址。</p><div class="language-cmd line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">===============================</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">   自动列出本机网络适配器列表</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">===============================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 以太网</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] WLAN</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">请输入要修改的接口编号</span><span style="--shiki-light:#7C7F93;--shiki-dark:#939AB7;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1-2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#939AB7;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">: </span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="刷机" tabindex="-1">刷机 <a class="header-anchor" href="#刷机" aria-label="Permalink to “刷机”">​</a></h3><p>上述准备工作完成后，运行程序 <code>tftpd64.exe</code> ，然后别动他</p><p><img src="`+l+'" alt=""></p><p>断开你的路由器电源，看到路由器侧边的 <code>reset</code> 按钮了吗，按住，然后插入路由器电源，若你的电脑出现了如下显示</p><p><img src="'+p+`" alt=""></p><p>你就可以松开 <code>reset</code> 按钮了，之后等待系统重启就好了。</p><h3 id="收尾" tabindex="-1">收尾 <a class="header-anchor" href="#收尾" aria-label="Permalink to “收尾”">​</a></h3><p>同样以管理员身份运行 <code>firewall_manager.bat</code> ，选择 2 开启防火墙</p><div class="language-cmd line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">=====================================</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">        Windows 防火墙控制脚本</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">=====================================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 关闭防火墙（所有配置文件）</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 开启防火墙（所有配置文件）</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">3</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 查看当前防火墙状态</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 退出</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">请输入选项 [</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1-4</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">]: </span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>然后同样以管理员身份运行 <code>restore_dhcp_ip.bat</code> ，选择 1 恢复以太网口动态 DHCP 。</p><div class="language-cmd line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">===============================</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">    自动列出本机网络适配器列表</span></span>
<span class="line"><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;">===============================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] 以太网</span></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">[</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">2</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">] WLAN</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">请输入要恢复的接口编号</span><span style="--shiki-light:#7C7F93;--shiki-dark:#939AB7;">(</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1-2</span><span style="--shiki-light:#7C7F93;--shiki-dark:#939AB7;">)</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CAD3F5;">:</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;">1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="q-a" tabindex="-1">Q&amp;A <a class="header-anchor" href="#q-a" aria-label="Permalink to “Q&amp;A”">​</a></h2><h3 id="luci-cbi-datatypes-not-found" tabindex="-1">luci.cbi.datatypes not found <a class="header-anchor" href="#luci-cbi-datatypes-not-found" aria-label="Permalink to “luci.cbi.datatypes not found”">​</a></h3><p>Q: 我在 Openclash 设置中点击更新/下载代理内核时后台管理页面崩溃</p><p><img src="`+t+`" alt="luci-compat"></p><p>A: 关于管理后台崩溃的问题 luci.cbi.datatypes not found，问题出在 opencalsh 的更新上</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span>Tue Nov 18 12:25:07 2025 daemon.info openclash_update.sh[14039]: luci-compat was autoinstalled and is now orphaned, removing.</span></span>
<span class="line"><span>Tue Nov 18 12:25:07 2025 daemon.info openclash_update.sh[14039]: Removing package luci-compat from root...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>更新过程中，<code>luci-compat</code> 被自动识别为“孤儿包”（orphaned）并被卸载了。这就是导致 LuCI 界面崩溃，提示缺少 <code>luci.cbi.datatypes</code> 的原因。</p><p>不要更新 Openclash 软件！若你遇到了报错提示 luci.cbi.datatypes not found，使用ssh登录路由器执行</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span>opkg install luci-compat</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_128m-装-passwall-内核空间不足" tabindex="-1">128M 装 passwall 内核空间不足 <a class="header-anchor" href="#_128m-装-passwall-内核空间不足" aria-label="Permalink to “128M 装 passwall 内核空间不足”">​</a></h3><p>A: 由于 128M 分区较小，使用我定制的固件：<a href="https://www.123865.com/s/xecxjv-LbbCA" target="_blank" rel="noreferrer">点击下载</a> 或自行刷大分区固件。支持 xray 和 singbox。</p><h3 id="刷第三方-uboot" tabindex="-1">刷第三方 uboot <a class="header-anchor" href="#刷第三方-uboot" aria-label="Permalink to “刷第三方 uboot”">​</a></h3><p>Q: 你的固件能够刷写 mtd/fip 分区吗？</p><p>A: 可以，我在编译时集成了 <code>kmod-mtd-rw</code> 插件，支持刷写 MTD/FIP 分区，刷机需谨慎，小心成砖</p><h3 id="刷回官方" tabindex="-1">刷回官方 <a class="header-anchor" href="#刷回官方" aria-label="Permalink to “刷回官方”">​</a></h3><p>Q: 你的固件能够刷回过渡件并回到官方吗</p><p>A: 不能，建议使用官方办法 tftpd 刷回官方</p><h3 id="usb-供电" tabindex="-1">USB 供电 <a class="header-anchor" href="#usb-供电" aria-label="Permalink to “USB 供电”">​</a></h3><p>Q: 能关闭 USB 供电吗？</p><p>A: 可以，ssh 登录路由器后执行</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D20F39;--shiki-light-font-style:italic;--shiki-dark:#ED8796;--shiki-dark-font-style:italic;">echo</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;"> 0</span><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;"> &gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6DA95;"> /sys/class/gpio/modem_power/value</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>恢复供电执行</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-macchiato" style="--shiki-light:#4c4f69;--shiki-dark:#cad3f5;--shiki-light-bg:#eff1f5;--shiki-dark-bg:#24273a;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D20F39;--shiki-light-font-style:italic;--shiki-dark:#ED8796;--shiki-dark-font-style:italic;">echo</span><span style="--shiki-light:#FE640B;--shiki-dark:#F5A97F;"> 1</span><span style="--shiki-light:#179299;--shiki-dark:#8BD5CA;"> &gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6DA95;"> /sys/class/gpio/modem_power/value</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,49)])])}const m=a(r,[["render",h]]);export{u as __pageData,m as default};
